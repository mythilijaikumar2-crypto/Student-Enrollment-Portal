<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; connect-src 'self' http://localhost:5000; style-src 'self' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com;">
    <title>Admin Dashboard - Courses</title>
    <link rel="stylesheet" href="../../css/style.css">
</head>

<body>
    <header>
        <div class="container">
            <nav>
                <a href="../../index.html" class="logo"><img src="../../assets/logo.jpg" alt="Academy Logo"></a>
                <div class="nav-links">
                    <span id="user-name" class="mr-4" style="margin-right: 20px; font-weight: bold;"></span>
                    <button onclick="logout()" class="btn btn-secondary">Logout</button>
                </div>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="dashboard-grid">
            <aside class="sidebar">
                <ul>
                    <li><a href="courses.html" class="active">Courses</a></li>
                    <li><a href="students.html">Students</a></li>
                    <li><a href="certificates.html">Requests</a></li>
                </ul>
            </aside>
            <section class="content">
                <h2>Manage Courses</h2>

                <div class="card mt-4">
                    <h3>Create New Course</h3>
                    <form onsubmit="adminLogic.createCourse(event)">
                        <div class="form-group">
                            <label>Course Name</label>
                            <input type="text" name="courseName" required>
                        </div>
                        <div class="form-group">
                            <label>Course Code</label>
                            <input type="text" name="courseCode" required placeholder="e.g. JAVA">
                        </div>
                        <div class="form-group">
                            <label>Duration</label>
                            <input type="text" name="duration" required placeholder="e.g. 6 Months">
                        </div>
                        <div class="form-group">
                            <label>Description</label>
                            <textarea name="description" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn">Create Course</button>
                    </form>
                </div>

                <h3>All Courses</h3>
                <div class="mt-4">
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Code</th>
                                <th>Duration</th>
                                <th>Created At</th>
                            </tr>
                        </thead>
                        <tbody id="course-list">
                            <!-- Courses injected here -->
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </main>

    <script src="../../js/app.js"></script>
    <script src="../../js/admin.js"></script>
    <script>
        adminLogic.loadCourses();
    </script>
</body>

</html>